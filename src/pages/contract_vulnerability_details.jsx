import './contract_vulnerability_details.scss';
import React from "react";
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faHeart } from '@fortawesome/free-regular-svg-icons';
import { faHeart as faHeartFilled } from '@fortawesome/free-solid-svg-icons';
import { Tab, Tabs, TabList, TabPanel } from 'menora-react-tabs';

const VulnerabilityDetails = (vulnerability) => {
  const vulnerability_title = "Indirect Execution of Unknown Code"

  const risk_matrix = [
    {title : "Overall Risk Level", reading : 2.5},
    {title : "Likelihood Level", reading : 3},
    {title : "Impact Level", reading : 4.5}
  ]
  const formatted_risk_matrix = risk_matrix.map(matrix => (
      <div className='risk_matrix_item'>
        <span>{matrix.reading}</span> - <span>{matrix.title}</span>
      </div>
  ));

  const tabs = [
    {title: "Description", content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent elementum vestibulum libero, vitae tempor elit eleifend ac. \n\n" + 
    "Pellentesque finibus nibh eu elit eleifend congue. Phasellus risus augue, facilisis at suscipit in, porta at justo. Nam maximus " +
    "euismod vehicula. Morbi id lacus eget nunc aliquet sagittis. Phasellus dignissim metus et porta porta. Nulla facilisi. \n \n" +
    "Mauris sit amet sapien ac risus vulputate congue nec nec erat. Aliquam turpis ligula, laoreet ac hendrerit ut, feugiat et risus." +
    "Curabitur faucibus pellentesque ipsum at volutpat. Pellentesque nec fringilla lacus, nec blandit orci. Morbi ultricies interdum " +
    "gravida. Aliquam ligula ante, rutrum a justo vel"},
    {title: "Consequences", content: "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent elementum vestibulum libero, vitae tempor elit eleifend ac. \n\n" + 
    "Pellentesque finibus nibh eu elit eleifend congue. Phasellus risus augue, facilisis at suscipit in, porta at justo. Nam maximus " +
    "euismod vehicula. Morbi id lacus eget nunc aliquet sagittis. Phasellus dignissim metus et porta porta. Nulla facilisi. \n \n" +
    "Mauris sit amet sapien ac risus vulputate congue nec nec erat. Aliquam turpis ligula, laoreet ac hendrerit ut, feugiat et risus." +
    "Curabitur faucibus pellentesque ipsum at volutpat. Pellentesque nec fringilla lacus, nec blandit orci. Morbi ultricies interdum " +
    "gravida. Aliquam ligula ante, rutrum a justo vel"}
  ]
  var formatted_tabs_list = tabs.map(tab => (
    <Tab>{tab.title}</Tab>
  ));
  formatted_tabs_list = <TabList>{formatted_tabs_list}</TabList>
  const formatted_tabs_panel = tabs.map(tab => (
    <TabPanel>
      <p>{tab.content}</p>
    </TabPanel>
  ));

  function like_vulnerability(vulnerability){
    console.log(vulnerability)
  }
  function scan_vulnerability(vulnerability) {
    console.log(vulnerability)
  }
  
  return (
      <div className="vulnerability_details_container">
        <header className="vulnerability_details_header">
          <h3>{vulnerability_title}</h3>
          <div className='risk_matrix_container'>
            <span className='left'>Risk Classification Metrix</span>
            <span className='right'>Risk Chart</span>
            <div className='risk_matrix'>
              {formatted_risk_matrix}
            </div>
          </div>
          <div className='action'>
            <div className="like" /*style={{display: "none"}}*/>
              <FontAwesomeIcon 
                icon={faHeart}
                onClick={() => like_vulnerability(vulnerability_title)}
                />
            </div>
            <button onClick={() => scan_vulnerability(vulnerability_title)}>Start Scanning</button>
          </div>
        </header>

        <body>
          <Tabs>
            {formatted_tabs_list}
            {formatted_tabs_panel}
          </Tabs>
        </body>
      </div>
  )
}

export default VulnerabilityDetails;